

@model Dynamo.Model.Exam.Exam

@{
    ViewData["Title"] = "Progress Exam";

}

@section Css {
    <link href="~/vendor/flipclock/flipclock.css" rel="stylesheet" />
}


@section Sole {
    <style>
        .exam-table-section {
            margin-top: 4.7rem;
            background-image: url("/img/home/bg-1.jpg");
            background-position: center center;
            background-repeat: no-repeat;
            background-size: cover;
            min-height: 100vh;
            padding-bottom: 50px;
        }

        .card {
            border-radius: 10px;
            padding: 42px 35px;
            font-family: 'Baloo Da', cursive;
            font-size: 40px;
            font-weight: bold;
        }

            .card.options {
                border-radius: 10px;
                font-size: 25px;
                padding: .4rem 1.5rem;
                font-weight: normal;
            }
            .card.options.right-ans {
                font-size: 40px
            }

        .question-no {
            font-size: 60px;
            font-family: 'Baloo Da', cursive;
        }

        .next-btn, .btn-enable {
            font-size: 30px;
            padding: 1rem 3rem;
            text-transform: uppercase;
        }
        /*.b-contestant {
            font-family: 'Baloo Da', cursive;
            font-size: 56px;
            top: -4px;
            left: 17px;
        }*/
        .buzzer-time {
            font-family: 'Baloo Da', cursive;
            font-size: 30px;
            color: #fff;
        }

        .buzzer-par {
            background-image: url(/img/dropcaps/dropcaps-2.png);
            background-repeat: no-repeat;
            font-family: 'Baloo Da', cursive;
            font-size: 60px;
            color: #fff;
            height: 77px;
            width: 77px;
        }

            .buzzer-par.pressed {
                background-image: url(/img/dropcaps/dropcaps-1.png) !important;
            }

        .par-number {
            top: -8px;
            left: 15px;
        }

        .btn-ans {
            border-radius: 50% 50% 50% 50%;
            font-family: 'Baloo Da', cursive;
            font-size: 30px;
            color: #fff;
            border-style: solid;
            border-width: 5px 5px 5px 5px;
            border-color: #ffffff;
        }

            .btn-ans.btn-success {
                padding-top: 8px;
                padding-bottom: 2px;
                padding-right: 10px;
                padding-left: 14px;
            }

            .btn-ans.btn-danger {
                padding-right: 16px;
                padding-left: 16px;
                padding-top: 8px;
                padding-bottom: 1px;
            }

                .btn-ans.btn-danger:hover, .btn-ans.btn-success:hover, .btn-ans.btn-warning {
                    border-style: solid !important;
                    border-width: 5px 5px 5px 5px !important;
                    border-color: #ffffff !important;
                }

            .btn-ans.btn-warning {
                padding-top: 17px;
                padding-bottom: 14px;
                padding-left: 20px;
                padding-right: 18px;
                font-size: 15px !important;
            }

        .btn-danger:hover {
            background-color: #ef5d50;
            opacity: .95;
        }

        .exam-table-heading {
            font-family: 'Fredoka One', cursive;
            font-size: 3.333em;
        }

        .table td, .table th {
            padding: 1rem !important;
            font-size: 35px !important;
            font-family: "Ubuntu",sans-serif;
            font-weight: 500 !important;
            letter-spacing: -0.17px !important;
            text-transform: none !important;
            vertical-align: middle;
        }

        .table td {
            color: #4a4f53 !important;
            border-color: #e1e2e2 !important;
            border-top: 0 !important;
            font-family: 'Baloo Da', cursive;
        }

            .table td:first-child {
                border-left: 0 !important;
                color: #23ad72 !important;
            }

            .table td:last-child {
                border-right: 0 !important;
            }

        .table th {
            color: #23ad72 !important;
            background-color: #F0F0F0;
            border-color: #23ad72;
            border-top: 0 !important;
            border-bottom: 1px solid #23ad72 !important;
            width: 20%;
        }

            .table th:first-child {
                border-left: 0 !important
            }

            .table th:last-child {
                border-right: 0 !important
            }

        .table > tbody > tr:nth-child(2n) > td {
            background-color: #f0f0f0;
        }

        .table > tbody > tr:nth-child(2n+1) > td {
            background-color: rgba(240,240,240,0.2);
        }

        .table-responsive {
            border-radius: 5px;
        }

        .result_button {
            font-size: 30px;
            padding: 1rem 3rem;
            text-transform: uppercase;
        }

        input.form-control {
            font-size: 18px;
        }
        .sponser-div {
            background: #EA175A;
        }
        .random_random td {
            background: #2dce89 !important;
            color: #fff !important;
            font-size: 4rem !important;
        }
        .random_random td label {
            color: #fff;
            margin-bottom: 0;
        }
    </style>
}

<section class="exam-table-section">

    @if (ViewBag.NoQuestion || ViewBag.NoNextQuestion)
    {
        <div class="container-fluid">
            <div class="row justify-content-center">
                <div class="col-lg-12">
                    @if (ViewBag.NoQuestion)
                    {
                        <label> No Questions were Added in This Exam</label>
                    }

                    else if (ViewBag.NoNextQuestion)
                    {
                        <p class="text-uppercase exam-table-heading pt-5 text-center text-white">~Result~</p>
                        <div class="card p-0">
                            <div class="card-body p-0">
                                <div class="pyro">
                                    <div class="before"></div>
                                    <div class="after"></div>
                                </div>
                                <div class="table-responsive">
                                    <table class="table table-striped table-bordered">
                                        <thead>
                                            <tr>
                                                <th class="text-center">
                                                    Name
                                                </th>
                                                <th class="text-center">
                                                    Correct
                                                </th>
                                                <th class="text-center">
                                                    Wrong
                                                </th>
                                                <th class="text-center">
                                                    Not Answered
                                                </th>
                                                <th class="text-center">
                                                    Total Marks
                                                </th>
                                            </tr>

                                        </thead>
                                        <tbody>
                                            @foreach (var mark in ViewBag.FinalBuzzerMarks)
                                            {

                                                @if (mark.TotalMark == ViewBag.MaxMark)
                                                {

                                                    <tr class="random_random">
                                                        <td class="text-center">
                                                            @if (mark.BuzzerNumber == 1)
                                                            {
                                                                <label>IPSC</label>
                                                            }
                                                            @if (mark.BuzzerNumber == 2)
                                                            {
                                                                <label>MAIHS</label>
                                                            }
                                                            @if (mark.BuzzerNumber == 3)
                                                            {
                                                                <label>MAISB</label>
                                                            }
                                                            @if (mark.BuzzerNumber == 4)
                                                            {
                                                                <label>IAHS</label>
                                                            }
                                                            @if (mark.BuzzerNumber == 5)
                                                            {
                                                                <label>CJMHS</label>
                                                            }
                                                            @if (mark.BuzzerNumber == 6)
                                                            {
                                                                <label>WDDM</label>
                                                            }
                                                        </td>
                                                        <td class="text-center">
                                                            @mark.CorrectAnswer
                                                        </td>
                                                        <td class="text-center">
                                                            @mark.WrongAnswer
                                                        </td>
                                                        <td class="text-center">
                                                            @mark.NotAnswered
                                                        </td>
                                                        <td class="text-center">
                                                            @mark.TotalMark
                                                        </td>
                                                    </tr>


                                                }
                                                else
                                                {
                                                    <tr>
                                                        <td class="text-center">
                                                            @if (mark.BuzzerNumber == 1)
                                                            {
                                                                <label>IPSC</label>
                                                            }
                                                            @if (mark.BuzzerNumber == 2)
                                                            {
                                                                <label>MAIHS</label>
                                                            }
                                                            @if (mark.BuzzerNumber == 3)
                                                            {
                                                                <label>MAISB</label>
                                                            }
                                                            @if (mark.BuzzerNumber == 4)
                                                            {
                                                                <label>IAHS</label>
                                                            }
                                                            @if (mark.BuzzerNumber == 5)
                                                            {
                                                                <label>CJMHS</label>
                                                            }
                                                            @if (mark.BuzzerNumber == 6)
                                                            {
                                                                <label>WDDM</label>
                                                            }
                                                        </td>
                                                        <td class="text-center">
                                                            @mark.CorrectAnswer
                                                        </td>
                                                        <td class="text-center">
                                                            @mark.WrongAnswer
                                                        </td>
                                                        <td class="text-center">
                                                            @mark.NotAnswered
                                                        </td>
                                                        <td class="text-center">
                                                            @mark.TotalMark
                                                        </td>
                                                    </tr>
                                                }


                                            }

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    }

    else
    {


        @foreach (var question in ViewBag.Questions)
        {
            @if (question.IsActive)
            {
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-lg-7">
                            <div class="mr-5 main-div">
                                <div class="d-flex">
                                    @{
                                        int count = ViewBag.Questions.IndexOf(question);
                                        count++;
                                    }
                                    <h2 class="text-white question-no mt-3 mb-3">Question @count</h2>
                                    <div class="text-right ml-auto mt-auto mb-auto">
                                        <a class="btn btn-danger next-btn rounded-pill disabled" asp-action="PlayBuzzer" id="nextButton" asp-route-examId="@question.ExamId" asp-route-questionId="@question.Id"> Next <i class="fa fa-angle-right"></i> </a>
                                    </div>
                                </div>
                                <div class="clockAdmin" style="margin:2em;"></div>
                                <div class="card mb-0">
                                    <div class="card-body">
                                        @question.Description
                                    </div>
                                </div>

                                <input class="has_option" disabled name="name" type="hidden" value="@question.HasOption" />
                                <input class="option1_correct" disabled name="name" type="hidden" value="@question.IsOption1Correct" />
                                <input class="option2_correct" disabled name="name" type="hidden" value="@question.IsOption2Correct" />
                                <input class="option3_correct" disabled name="name" type="hidden" value="@question.IsOption3Correct" />
                                <input class="option4_correct" disabled name="name" type="hidden" value="@question.IsOption4Correct" />



                                @if (question.HasOption)
                                {
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="mt-4">
                                            <div class="card options mb-3 option1">
                                                <div class="card-body p-0">
                                                    @question.Option1
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="mt-4">
                                            <div class="card options mb-3 option2">
                                                <div class="card-body p-0">
                                                    @question.Option2
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="mt-3">
                                            <div class="card options mb-1 option3">
                                                <div class="card-body p-0">
                                                    @question.Option3
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="mt-3">
                                            <div class="card options mb-1 option4">
                                                <div class="card-body p-0">
                                                    @question.Option4
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                }
                                else
                                {

                                <div id="answer_result" class="mb-0 d-none">
                                    <div class="card options mt-4 mb-2 options right-ans bg-success text-white">
                                        <div class="card-body p-0">
                                            @question.Answer
                                        </div>
                                    </div>
                                </div>
                                }


                                <input class="result_button btn btn-default rounded-pill mt-4" type="button" id="result_button" value="Right Answer" />




                            </div>
                        </div>
                        <div class="col-lg-5">
                            <h2 class="text-white question-no mt-3 mb-3 text-center">Participant</h2>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="d-flex">
                                        <div id="buzzer1" class="buzzer-par position-relative">
                                            <span class="position-absolute par-number">A</span>
                                        </div>
                                        @*<input id="buzzer1" disabled type="button" class="btn btn-primary btn-sm btn-block" value="Buzzer 1" />*@
                                        <span id="buzzer1_time" class="buzzer-time m-auto">00.000 s</span>
                                    </div>
                                    <div class="mb-4 mt-3">
                                        <button id="correctButton1" hidden class="btn btn-success btn-ans"><i class="fa fa-check"></i></button>
                                        <button id="wrongButton1" hidden class="btn btn-danger btn-ans"><i class="fa fa-times"></i></button>
                                        <button id="notAnsweredButton1" hidden class="btn btn-warning btn-ans"><i class="fa fa-circle"></i></button>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="d-flex">
                                        <div id="buzzer2" class="buzzer-par position-relative">
                                            <span class="position-absolute par-number">B</span>
                                        </div>
                                        <span id="buzzer2_time" class="buzzer-time m-auto">00.000 s</span>
                                    </div>
                                    <div class="mb-4 mt-3">
                                        <button id="correctButton2" hidden class="btn btn-success btn-ans"><i class="fa fa-check"></i></button>
                                        <button id="wrongButton2" hidden class="btn btn-danger btn-ans"><i class="fa fa-times"></i></button>
                                        <button id="notAnsweredButton2" hidden class="btn btn-warning btn-ans"><i class="fa fa-circle"></i></button>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="d-flex">
                                        <div id="buzzer3" class="buzzer-par position-relative">
                                            <span class="position-absolute par-number">C</span>
                                        </div>
                                        <span id="buzzer3_time" class="buzzer-time m-auto">00.000 s</span>
                                    </div>
                                    <div class="mb-4 mt-3">
                                        <button id="correctButton3" hidden class="btn btn-success btn-ans"><i class="fa fa-check"></i></button>
                                        <button id="wrongButton3" hidden class="btn btn-danger btn-ans"><i class="fa fa-times"></i></button>
                                        <button id="notAnsweredButton3" hidden class="btn btn-warning btn-ans"><i class="fa fa-circle"></i></button>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="d-flex">
                                        <div id="buzzer4" class="buzzer-par position-relative">
                                            <span class="position-absolute par-number">D</span>
                                        </div>
                                        <span id="buzzer4_time" class="buzzer-time m-auto">00.000 s</span>
                                    </div>
                                    <div class="mb-4 mt-3">
                                        <button id="correctButton4" hidden class="btn btn-success btn-ans"><i class="fa fa-check"></i></button>
                                        <button id="wrongButton4" hidden class="btn btn-danger btn-ans"><i class="fa fa-times"></i></button>
                                        <button id="notAnsweredButton4" hidden class="btn btn-warning btn-ans"><i class="fa fa-circle"></i></button>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="d-flex">
                                        <div id="buzzer5" class="buzzer-par position-relative">
                                            <span class="position-absolute par-number">E</span>
                                        </div>
                                        <span id="buzzer5_time" class="buzzer-time m-auto">00.000 s</span>
                                    </div>
                                    <div class="mb-4 mt-3">
                                        <button id="correctButton5" hidden class="btn btn-success btn-ans"><i class="fa fa-check"></i></button>
                                        <button id="wrongButton5" hidden class="btn btn-danger btn-ans"><i class="fa fa-times"></i></button>
                                        <button id="notAnsweredButton5" hidden class="btn btn-warning btn-ans"><i class="fa fa-circle"></i></button>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="d-flex">
                                        <div id="buzzer6" class="buzzer-par position-relative">
                                            <span class="position-absolute par-number">F</span>
                                        </div>
                                        <span id="buzzer6_time" class="buzzer-time m-auto">00.000 s</span>
                                    </div>
                                    <div class="mb-4 mt-3">
                                        <button id="correctButton6" hidden class="btn btn-success btn-ans"><i class="fa fa-check"></i></button>
                                        <button id="wrongButton6" hidden class="btn btn-danger btn-ans"><i class="fa fa-times"></i></button>
                                        <button id="notAnsweredButton6" hidden class="btn btn-warning btn-ans"><i class="fa fa-circle"></i></button>
                                    </div>
                                </div>
                                <div class="col-lg-12">
                                    <div class="text-right">
                                        <button id="enable_button" class="btn btn-success rounded-pill btn-enable">Enable Buzzer <i class="fa fa-toggle-on ml-2"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12">
                            <div class="card p-0 mt-5" id="totalResultCard">
                                <div class="card-body p-0">
                                    <div class="table-responsive">
                                        <table class="table table-striped table-bordered">
                                            <thead>
                                                <tr>
                                                    <th class="text-center" style="color: #ffffff !important; background-color: #2DCE89;">
                                                        Name
                                                    </th>
                                                    <th class="text-center" style="color: #ffffff !important; background-color: #2DCE89;">
                                                        Correct
                                                    </th>
                                                    <th class="text-center" style="color: #ffffff !important; background-color: #2DCE89;">
                                                        Wrong
                                                    </th>
                                                    <th class="text-center" style="color: #ffffff !important; background-color: #2DCE89;">
                                                        Not Answered
                                                    </th>
                                                    <th class="text-center" style="color: #ffffff !important; background-color: #2DCE89;">
                                                        Total Marks
                                                    </th>
                                                </tr>

                                            </thead>
                                            <tbody>
                                                @foreach (var mark in ViewBag.FinalBuzzerMarks)
                                                {
                                                    
                                                        <tr>
                                                            <td class="text-center">
                                                                @if (mark.BuzzerNumber == 1)
                                                                {
                                                                    <label>IPSC</label>
                                                                }
                                                                @if (mark.BuzzerNumber == 2)
                                                                {
                                                                    <label>MAIHS</label>
                                                                }
                                                                @if (mark.BuzzerNumber == 3)
                                                                {
                                                                    <label>MAISB</label>
                                                                }
                                                                @if (mark.BuzzerNumber == 4)
                                                                {
                                                                    <label>IAHS</label>
                                                                }
                                                                @if (mark.BuzzerNumber == 5)
                                                                {
                                                                    <label>CJMHS</label>
                                                                }
                                                                @if (mark.BuzzerNumber == 6)
                                                                {
                                                                    <label>WDDM</label>
                                                                }
                                                            </td>
                                                            <td class="text-center">
                                                                @mark.CorrectAnswer
                                                            </td>
                                                            <td class="text-center">
                                                                @mark.WrongAnswer
                                                            </td>
                                                            <td class="text-center">
                                                                @mark.NotAnswered
                                                            </td>
                                                            <td class="text-center">
                                                                @mark.TotalMark
                                                            </td>
                                                        </tr>
                                                   
                                                }

                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            }

        }
    }
</section>

@section Scripts {

    <script src="~/vendor/flipclock/flipclock.min.js"></script>
    <script>
        $(document).ready(function () {




            $('#enable_button').on('click', function () {


                //clockAdmin = $('.clockAdmin').FlipClock(30, {
                //    clockFace: 'MinuteCounter',
                //    countdown: true,
                //    autoStart: false,
                //    callbacks: {


                //        stop: function () {
                //            var audio = new Audio('../audio/Bell-ding-loud.mp3');
                //            audio.play();
                //            connection.invoke("DisableBuzzers").catch(function (err) {
                //                return console.error(err.toString());
                //            });
                //        }
                //    }
                //});


                $('#totalResultCard').addClass("d-none");
                $('#nextButton').removeClass("disabled");
                var url = '@Url.Action("EnablesBuzzers", "Exams")';
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: url,
                    cache: false,
                    success: function (result) {
                        $("#enable_button").prop('disabled', true);
                        connection.invoke("EnableBuzzers").catch(function (err) {
                            return console.error(err.toString());
                        });

                    }


                });
            });

            $('#result_button').on('click', function () {

                var has_option = $('.has_option').val();

                if (has_option) {

                    var is1corr = $('.option1_correct').val();
                    var is2corr = $('.option2_correct').val();
                    var is3corr = $('.option3_correct').val();
                    var is4corr = $('.option4_correct').val();

                    if (is1corr) {
                        $(".option1").addClass("bg-success text-white");
                    }
                    if (is2corr) {
                        $(".option2").addClass("bg-success text-white");
                    }
                    if (is3corr) {
                        $(".option3").addClass("bg-success text-white");
                    }
                    if (is4corr) {
                        $(".option4").addClass("bg-success text-white");
                    }
                }
                else {

                    $("#answer_result").removeClass("d-none");


                }





            });

            $('#nextButton').on('click', function () {
                $('#answer_result').hide();
                $("#enable_button").prop('disabled', false);
                connection.invoke("DisableBuzzers").catch(function (err) {

                    return console.error(err.toString());


                });


            });



            //----------------------------------------------------

            $('#correctButton1').on('click', function () {
                var url = '@Url.Action("CorrectAnswer", "Exams")';
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: url,
                    data: {
                        buzzerId: 1,

                    },
                    cache: false,
                    success: function (result) {

                        $('#correctButton1').hide();
                        $('#wrongButton1').hide();
                        $('#notAnsweredButton1').hide();

                    }


                });
            });
             $('#wrongButton1').on('click', function () {
                var url = '@Url.Action("WrongAnswer", "Exams")';
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: url,
                    data: {
                        buzzerId: 1,
                    },
                    cache: false,
                    success: function (result) {
                        $('#correctButton1').hide();
                        $('#wrongButton1').hide();
                        $('#notAnsweredButton1').hide();
                        var condition = $('#buzzer1').hasClass('pressed');
                        if (condition) {

                            var url = '@Url.Action("GetSecondBuzzer", "Exams")';
                            $.ajax({
                                type: "POST",
                                dataType: 'json',
                                url: url,
                                data: {
                                    buzzerId: 1,
                                },
                                cache: false,
                                success: function (result) {

                                    var correct = '#correctButton'.concat(result);
                                    var wrong = '#wrongButton'.concat(result);
                                    var not_answered = '#notAnsweredButton'.concat(result);


                                    $(correct).attr("hidden", false);
                                    $(wrong).attr("hidden", false);
                                    $(not_answered).attr("hidden", false);

                                }


                            });


                        }


                    }


                });
            });
             $('#notAnsweredButton1').on('click', function () {
                var url = '@Url.Action("NotAnswered", "Exams")';
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: url,
                    data: {
                        buzzerId: 1,

                    },
                    cache: false,
                    success: function (result) {

                        $('#correctButton1').hide();
                        $('#wrongButton1').hide();
                        $('#notAnsweredButton1').hide();

                        var condition = $('#buzzer1').hasClass('pressed');

                        if (condition) {

                            var url = '@Url.Action("GetSecondBuzzer", "Exams")';
                            $.ajax({
                                type: "POST",
                                dataType: 'json',
                                url: url,
                                data: {
                                    buzzerId: 1,
                                },
                                cache: false,
                                success: function (result) {

                                    var correct = '#correctButton'.concat(result);
                                    var wrong = '#wrongButton'.concat(result);
                                    var not_answered = '#notAnsweredButton'.concat(result);


                                    $(correct).attr("hidden", false);
                                    $(wrong).attr("hidden", false);
                                    $(not_answered).attr("hidden", false);

                                }


                            });


                        }



                    }


                });
            });




            $('#correctButton2').on('click', function () {
                var url = '@Url.Action("CorrectAnswer", "Exams")';
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: url,
                    data: {
                        buzzerId: 2,

                    },
                    cache: false,
                    success: function (result) {

                        $('#correctButton2').hide();
                        $('#wrongButton2').hide();
                        $('#notAnsweredButton2').hide();




                    }


                });
            });
             $('#wrongButton2').on('click', function () {
                var url = '@Url.Action("WrongAnswer", "Exams")';
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: url,
                    data: {
                        buzzerId: 2,
                    },
                    cache: false,
                    success: function (result) {

                        $('#correctButton2').hide();
                        $('#wrongButton2').hide();
                        $('#notAnsweredButton2').hide();
                           var condition = $('#buzzer2').hasClass('pressed');
                        if (condition) {

                            var url = '@Url.Action("GetSecondBuzzer", "Exams")';
                            $.ajax({
                                type: "POST",
                                dataType: 'json',
                                url: url,
                                data: {
                                    buzzerId: 2,
                                },
                                cache: false,
                                success: function (result) {

                                    var correct = '#correctButton'.concat(result);
                                    var wrong = '#wrongButton'.concat(result);
                                    var not_answered = '#notAnsweredButton'.concat(result);


                                    $(correct).attr("hidden", false);
                                    $(wrong).attr("hidden", false);
                                    $(not_answered).attr("hidden", false);

                                }


                            });


                        }

                    }


                });
            });
             $('#notAnsweredButton2').on('click', function () {
                var url = '@Url.Action("NotAnswered", "Exams")';
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: url,
                    data: {
                        buzzerId: 2,

                    },
                    cache: false,
                    success: function (result) {

                        $('#correctButton2').hide();
                        $('#wrongButton2').hide();
                        $('#notAnsweredButton2').hide();
                           var condition = $('#buzzer2').hasClass('pressed');
                        if (condition) {

                            var url = '@Url.Action("GetSecondBuzzer", "Exams")';
                            $.ajax({
                                type: "POST",
                                dataType: 'json',
                                url: url,
                                data: {
                                    buzzerId: 2,
                                },
                                cache: false,
                                success: function (result) {

                                    var correct = '#correctButton'.concat(result);
                                    var wrong = '#wrongButton'.concat(result);
                                    var not_answered = '#notAnsweredButton'.concat(result);


                                    $(correct).attr("hidden", false);
                                    $(wrong).attr("hidden", false);
                                    $(not_answered).attr("hidden", false);

                                }


                            });


                        }

                    }


                });
            });



            $('#correctButton3').on('click', function () {
                var url = '@Url.Action("CorrectAnswer", "Exams")';
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: url,
                    data: {
                        buzzerId: 3,

                    },
                    cache: false,
                    success: function (result) {

                        $('#correctButton3').hide();
                        $('#wrongButton3').hide();
                        $('#notAnsweredButton3').hide();

                    }


                });
            });
             $('#wrongButton3').on('click', function () {
                var url = '@Url.Action("WrongAnswer", "Exams")';
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: url,
                    data: {
                        buzzerId: 3,
                    },
                    cache: false,
                    success: function (result) {

                        $('#correctButton3').hide();
                        $('#wrongButton3').hide();
                        $('#notAnsweredButton3').hide();


                        var condition = $('#buzzer3').hasClass('pressed');
                        if (condition) {

                            var url = '@Url.Action("GetSecondBuzzer", "Exams")';
                            $.ajax({
                                type: "POST",
                                dataType: 'json',
                                url: url,
                                data: {
                                    buzzerId: 3,
                                },
                                cache: false,
                                success: function (result) {

                                    var correct = '#correctButton'.concat(result);
                                    var wrong = '#wrongButton'.concat(result);
                                    var not_answered = '#notAnsweredButton'.concat(result);


                                    $(correct).attr("hidden", false);
                                    $(wrong).attr("hidden", false);
                                    $(not_answered).attr("hidden", false);

                                }


                            });


                        }

                    }


                });
            });
             $('#notAnsweredButton3').on('click', function () {
                var url = '@Url.Action("NotAnswered", "Exams")';
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: url,
                    data: {
                        buzzerId: 3,

                    },
                    cache: false,
                    success: function (result) {

                        $('#correctButton3').hide();
                        $('#wrongButton3').hide();
                        $('#notAnsweredButton3').hide();
                         var condition = $('#buzzer3').hasClass('pressed');
                        if (condition) {

                            var url = '@Url.Action("GetSecondBuzzer", "Exams")';
                            $.ajax({
                                type: "POST",
                                dataType: 'json',
                                url: url,
                                data: {
                                    buzzerId: 3,
                                },
                                cache: false,
                                success: function (result) {

                                    var correct = '#correctButton'.concat(result);
                                    var wrong = '#wrongButton'.concat(result);
                                    var not_answered = '#notAnsweredButton'.concat(result);


                                    $(correct).attr("hidden", false);
                                    $(wrong).attr("hidden", false);
                                    $(not_answered).attr("hidden", false);

                                }


                            });


                        }



                    }


                });
            });


             $('#correctButton4').on('click', function () {
                var url = '@Url.Action("CorrectAnswer", "Exams")';
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: url,
                    data: {
                        buzzerId: 4,

                    },
                    cache: false,
                    success: function (result) {

                        $('#correctButton4').hide();
                        $('#wrongButton4').hide();
                        $('#notAnsweredButton4').hide();

                    }


                });
            });
             $('#wrongButton4').on('click', function () {
                var url = '@Url.Action("WrongAnswer", "Exams")';
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: url,
                    data: {
                        buzzerId: 4,
                    },
                    cache: false,
                    success: function (result) {

                        $('#correctButton4').hide();
                        $('#wrongButton4').hide();
                        $('#notAnsweredButton4').hide();

                         var condition = $('#buzzer4').hasClass('pressed');
                        if (condition) {

                            var url = '@Url.Action("GetSecondBuzzer", "Exams")';
                            $.ajax({
                                type: "POST",
                                dataType: 'json',
                                url: url,
                                data: {
                                    buzzerId: 4,
                                },
                                cache: false,
                                success: function (result) {

                                    var correct = '#correctButton'.concat(result);
                                    var wrong = '#wrongButton'.concat(result);
                                    var not_answered = '#notAnsweredButton'.concat(result);

                                    $(correct).attr("hidden", false);
                                    $(wrong).attr("hidden", false);
                                    $(not_answered).attr("hidden", false);

                                }


                            });


                        }


                    }


                });
            });
             $('#notAnsweredButton4').on('click', function () {
                var url = '@Url.Action("NotAnswered", "Exams")';
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: url,
                    data: {
                        buzzerId: 4,

                    },
                    cache: false,
                    success: function (result) {

                        $('#correctButton4').hide();
                        $('#wrongButton4').hide();
                        $('#notAnsweredButton4').hide();
                         var condition = $('#buzzer4').hasClass('pressed');
                        if (condition) {

                            var url = '@Url.Action("GetSecondBuzzer", "Exams")';
                            $.ajax({
                                type: "POST",
                                dataType: 'json',
                                url: url,
                                data: {
                                    buzzerId: 4,
                                },
                                cache: false,
                                success: function (result) {

                                    var correct = '#correctButton'.concat(result);
                                    var wrong = '#wrongButton'.concat(result);
                                    var not_answered = '#notAnsweredButton'.concat(result);


                                    $(correct).attr("hidden", false);
                                    $(wrong).attr("hidden", false);
                                    $(not_answered).attr("hidden", false);

                                }


                            });


                        }







                    }


                });
            });



             $('#correctButton5').on('click', function () {
                var url = '@Url.Action("CorrectAnswer", "Exams")';
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: url,
                    data: {
                        buzzerId: 5,

                    },
                    cache: false,
                    success: function (result) {

                        $('#correctButton5').hide();
                        $('#wrongButton5').hide();
                        $('#notAnsweredButton5').hide();

                    }


                });
            });
             $('#wrongButton5').on('click', function () {
                var url = '@Url.Action("WrongAnswer", "Exams")';
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: url,
                    data: {
                        buzzerId: 5,
                    },
                    cache: false,
                    success: function (result) {


                        $('#correctButton5').hide();
                        $('#wrongButton5').hide();
                        $('#notAnsweredButton5').hide();

                         var condition = $('#buzzer5').hasClass('pressed');
                        if (condition) {

                            var url = '@Url.Action("GetSecondBuzzer", "Exams")';
                            $.ajax({
                                type: "POST",
                                dataType: 'json',
                                url: url,
                                data: {
                                    buzzerId: 5,
                                },
                                cache: false,
                                success: function (result) {

                                    var correct = '#correctButton'.concat(result);
                                    var wrong = '#wrongButton'.concat(result);
                                    var not_answered = '#notAnsweredButton'.concat(result);


                                    $(correct).attr("hidden", false);
                                    $(wrong).attr("hidden", false);
                                    $(not_answered).attr("hidden", false);

                                }


                            });


                        }




                    }


                });
            });
             $('#notAnsweredButton5').on('click', function () {
                var url = '@Url.Action("NotAnswered", "Exams")';
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: url,
                    data: {
                        buzzerId: 5,

                    },
                    cache: false,
                    success: function (result) {


                        $('#correctButton5').hide();
                        $('#wrongButton5').hide();
                        $('#notAnsweredButton5').hide();

                           var condition = $('#buzzer5').hasClass('pressed');
                        if (condition) {

                            var url = '@Url.Action("GetSecondBuzzer", "Exams")';
                            $.ajax({
                                type: "POST",
                                dataType: 'json',
                                url: url,
                                data: {
                                    buzzerId: 5,
                                },
                                cache: false,
                                success: function (result) {

                                    var correct = '#correctButton'.concat(result);
                                    var wrong = '#wrongButton'.concat(result);
                                    var not_answered = '#notAnsweredButton'.concat(result);


                                    $(correct).attr("hidden", false);
                                    $(wrong).attr("hidden", false);
                                    $(not_answered).attr("hidden", false);

                                }


                            });


                        }









                    }


                });
            });


             $('#correctButton6').on('click', function () {
                var url = '@Url.Action("CorrectAnswer", "Exams")';
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: url,
                    data: {
                        buzzerId: 6,

                    },
                    cache: false,
                    success: function (result) {


                        $('#correctButton6').hide();
                        $('#wrongButton6').hide();
                        $('#notAnsweredButton6').hide();

                    }


                });
            });
             $('#wrongButton6').on('click', function () {
                var url = '@Url.Action("WrongAnswer", "Exams")';
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: url,
                    data: {
                        buzzerId: 6,
                    },
                    cache: false,
                    success: function (result) {

                        $('#correctButton6').hide();
                        $('#wrongButton6').hide();
                        $('#notAnsweredButton6').hide();


                        var condition = $('#buzzer6').hasClass('pressed');
                        if (condition) {

                            var url = '@Url.Action("GetSecondBuzzer", "Exams")';
                            $.ajax({
                                type: "POST",
                                dataType: 'json',
                                url: url,
                                data: {
                                    buzzerId: 6,
                                },
                                cache: false,
                                success: function (result) {
                                    var correct = '#correctButton'.concat(result);
                                    var wrong = '#wrongButton'.concat(result);
                                    var not_answered = '#notAnsweredButton'.concat(result);


                                    $(correct).attr("hidden", false);
                                    $(wrong).attr("hidden", false);
                                    $(not_answered).attr("hidden", false);

                                }


                            });


                        }




                    }


                });
            });
             $('#notAnsweredButton6').on('click', function () {
                var url = '@Url.Action("NotAnswered", "Exams")';
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: url,
                    data: {
                        buzzerId: 6,

                    },
                    cache: false,
                    success: function (result) {

                        $('#correctButton6').hide();
                        $('#wrongButton6').hide();
                        $('#notAnsweredButton6').hide();
                         var condition = $('#buzzer6').hasClass('pressed');
                        if (condition) {

                            var url = '@Url.Action("GetSecondBuzzer", "Exams")';
                            $.ajax({
                                type: "POST",
                                dataType: 'json',
                                url: url,
                                data: {
                                    buzzerId: 6,
                                },
                                cache: false,
                                success: function (result) {

                                    var correct = '#correctButton'.concat(result);
                                    var wrong = '#wrongButton'.concat(result);
                                    var not_answered = '#notAnsweredButton'.concat(result);


                                    $(correct).attr("hidden", false);
                                    $(wrong).attr("hidden", false);
                                    $(not_answered).attr("hidden", false);

                                }


                            });


                        }





                    }


                });
            });


            var connection = new signalR.HubConnectionBuilder().withUrl("/signalServer").build();

            connection.start().then(function () {

                connection.invoke("DisableBuzzers").catch(function (err) {

                    return console.error(err.toString());

                });

            }).catch(function (err) {

                return console.error(err.toString());
            });

        });




    </script>

}




