@model Dynamo.Model.Exam.Question

@{
    ViewData["Title"] = "Add Question";
}

@section Css {
    <link rel="stylesheet" href="~/vendor/sweetalert2/dist/sweetalert2.min.css">
    <link href="~/vendor/fonts/Kiron/Kiron.css" rel="stylesheet" />
}

@section Sole {
    <style>
        .exam-table-section {
            margin-top: 4.7rem;
            background-image: url("/img/bg-2.svg");
            background-position: center center;
            background-repeat: no-repeat;
            background-size: cover;
            min-height: 100vh;
            padding-bottom: 150px;
        }

        .table td, .table th {
            padding: 1rem !important;
            letter-spacing: -0.17px !important;
            text-transform: none !important;
            vertical-align: middle;
        }

        .table th {
            font-family: "Ubuntu",sans-serif;
            font-size: 35px !important;
            font-weight: 500 !important;
            color: #ffffff !important;
            background-color: #00AEAC;
            border-color: #009DA6;
            border-top: 0 !important;
            border-bottom: 0 !important;
        }

            .table th:first-child {
                border-left: 0 !important
            }

            .table th:last-child {
                border-right: 0 !important
            }

        .table td {
            color: #4a4f53 !important;
            border-color: #e1e2e2 !important;
            border-top: 0 !important;
        }

        .table td.q-desc {
            font-family: "Kiron", sans-serif;
            color: #666;
            font-size: 23px!important;
        }
        .table td .form-control {
            font-family: "Kiron", sans-serif;
            color: #666;
            font-size: 23px!important;
        }


            .table td:first-child {
                border-left: 0 !important;
            }

            .table td:last-child {
                border-right: 0 !important;
            }

        .table > tbody > tr:nth-child(2n) > td {
            background-color: #f0f0f0 !important;
        }

        .table > tbody > tr:nth-child(2n+1) > td {
            background-color: rgba(240,240,240,0.2);
        }

        .table-responsive {
            border-radius: 5px;
        }

        .exam-table-heading {
            font-family: 'Fredoka One', cursive;
            font-size: 3.333em;
            color: #023661;
        }

        .img-copter {
            /*right: 5%;
            top: 18%;
            transform: rotate(-18deg);*/
            right: 2%;
            bottom: 100px;
            transform: rotate(-15deg);
        }

        .img-cloud1 {
            top: -170px;
            left: 3%;
            animation-name: floating;
            animation-duration: 3s;
            animation-iteration-count: infinite;
        }

        .exam-id {
            color: #969899;
            border: 2px solid #f0f0f0 !important;
            padding: 0 1.5em;
            font-size: 18px;
            font-style: normal;
            text-transform: capitalize;
            height: 62px;
            width: 400px;
        }

        .backtolist {
            height: 62px;
            padding: 1.3rem 3em !important;
            font-size: 18px !important;
            line-height: 16px !important;
        }

        .canswer {
            min-width: 150px;
        }

        #table_body.admin tr td {
            font-size: 35px !important;
            color: #4a4f53 !important;
            font-family: 'Baloo Da', cursive;
        }

        tr.random_random td {
            background: #2DCE89 !important;
            color: #fff !important;
            font-size: 40px !important;
            font-family: 'Baloo Da', cursive;
        }

            tr.random_random td label {
                margin-bottom: 0;
                color: #fff !important;
            }
    </style>
}

<section class="exam-table-section">
    <div class="container-fluid">
        <div class="text-center mb-4">
            <p class="text-uppercase exam-table-heading pt-5">Result</p>
            <div class="d-flex justify-content-center">

            </div>


            <img class="position-absolute img-copter" src="~/img/home/plain.png" alt="..." />
            <img class="position-absolute img-cloud1" src="~/img/home/cloud_1.png" alt="..." />
        </div>
        <div class="row justify-content-center">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-body p-0">
                        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                        <div class="row">


                            @if (ViewBag.UserId == "8e09035f-c640-4ac0-8d5c-4a63d3eddfab")
                            {
                                <div class="col-md-12">
                                    <div class="table-responsive">
                                        <table class="table table-striped table-bordered" id="main_table">
                                            <thead class="">
                                                <tr>
                                                    <th class="text-center text-wrap w-50">Student Number</th>
                                                    <th class="text-center text-wrap w-50">Mark</th>

                                                </tr>

                                            </thead>
                                            <tbody id="table_body" class="table_body admin">
                                                @foreach (var result in ViewBag.Results)
                                                {

                                                    <tr>
                                                        <td class="text-center">
                                                            @result.UserName
                                                        </td>
                                                        <td class="text-center">
                                                            @result.TotalMark
                                                        </td>

                                                    </tr>
                                                }
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                            }
                            else
                            {

                                <div class="col-md-12">
                                    <div class="table-responsive">
                                        <table class="table table-striped table-bordered" id="main_table">
                                            <thead class="">
                                                <tr>
                                                    <th class="text-justify text-wrap">Option 1</th>
                                                    <th class="text-justify text-wrap">Option 2</th>
                                                    <th class="text-justify text-wrap">Option 3</th>
                                                    <th class="text-justify text-wrap">Option 4</th>
                                                    <th class="text-justify text-wrap">Result</th>


                                                </tr>

                                            </thead>
                                            <tbody id="table_body" class="table_body">


                                                <tr class="random_random">
                                                    <td colspan="6" class="text-green text-center">
                                                        <label>  @ViewBag.TotalMark</label>
                                                    </td>
                                                </tr>


                                                @foreach (var questionMark in ViewBag.Marks)
                                                {
                                                    <tr>
                                                        <td colspan="6" class="q-desc text-wrap">
                                                            @questionMark.Question.Description
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="text-wrap">
                                                            @if (questionMark.CorrecAnswer == 1 && questionMark.GivenAnswer == 1)
                                                            {
                                                                <input class="form-control option1 bg-success text-white rounded-pill" type="text" name="option1" value="@questionMark.Question.Option1" disabled />

                                                            }

                                                            else if (questionMark.CorrecAnswer != 1 && questionMark.GivenAnswer == 1)
                                                            {
                                                                <input class="form-control option1 bg-danger text-white rounded-pill" type="text" name="option1" value="@questionMark.Question.Option1" disabled />
                                                            }
                                                            else if (questionMark.CorrecAnswer == 1)
                                                            {
                                                                <input class="form-control option1 bg-success text-white rounded-pill" type="text" name="option1" value="@questionMark.Question.Option1" disabled />
                                                            }
                                                            else
                                                            {
                                                                <input class="form-control option1 rounded-pill" type="text" name="option1" value="@questionMark.Question.Option1" disabled />
                                                            }
                                                        </td>

                                                        <td class="text-wrap">
                                                            @if (questionMark.CorrecAnswer == 2 && questionMark.GivenAnswer == 2)
                                                            {
                                                                <input class="form-control option1 bg-success text-white rounded-pill" type="text" name="option1" value="@questionMark.Question.Option2" disabled />

                                                            }

                                                            else if (questionMark.CorrecAnswer != 2 && questionMark.GivenAnswer == 2)
                                                            {
                                                                <input class="form-control option1 bg-danger text-white rounded-pill" type="text" name="option1" value="@questionMark.Question.Option2" disabled />
                                                            }
                                                            else if (questionMark.CorrecAnswer == 2)
                                                            {
                                                                <input class="form-control option1 bg-success text-white rounded-pill" type="text" name="option1" value="@questionMark.Question.Option2" disabled />
                                                            }
                                                            else
                                                            {
                                                                <input class="form-control option1 rounded-pill" type="text" name="option1" value="@questionMark.Question.Option2" disabled />
                                                            }
                                                        </td>

                                                        <td class="text-wrap">
                                                            @if (questionMark.CorrecAnswer == 3 && questionMark.GivenAnswer == 3)
                                                            {
                                                                <input class="form-control option1 bg-success text-white rounded-pill" type="text" name="option1" value="@questionMark.Question.Option3" disabled />

                                                            }

                                                            else if (questionMark.CorrecAnswer != 3 && questionMark.GivenAnswer == 3)
                                                            {
                                                                <input class="form-control option1 bg-danger text-white rounded-pill" type="text" name="option1" value="@questionMark.Question.Option3" disabled />
                                                            }
                                                            else if (questionMark.CorrecAnswer == 3)
                                                            {
                                                                <input class="form-control option1 bg-success text-white rounded-pill" type="text" name="option1" value="@questionMark.Question.Option3" disabled />
                                                            }


                                                            else

                                                            {
                                                                <input class="form-control option1 rounded-pill" type="text" name="option1" value="@questionMark.Question.Option3" disabled />
                                                            }
                                                        </td>

                                                        <td class="text-wrap">
                                                            @if (questionMark.CorrecAnswer == 4 && questionMark.GivenAnswer == 4)
                                                            {
                                                                <input class="form-control option1 bg-success text-white rounded-pill" type="text" name="option1" value="@questionMark.Question.Option4" disabled />

                                                            }

                                                            else if (questionMark.CorrecAnswer != 4 && questionMark.GivenAnswer == 4)
                                                            {
                                                                <input class="form-control option1 bg-danger text-white rounded-pill" type="text" name="option1" value="@questionMark.Question.Option4" disabled />
                                                            }
                                                            else if (questionMark.CorrecAnswer == 4)
                                                            {
                                                                <input class="form-control option1 bg-success text-white rounded-pill" type="text" name="option1" value="@questionMark.Question.Option4" disabled />
                                                            }

                                                            else
                                                            {
                                                                <input class="form-control option1 rounded-pill" type="text" name="option1" value="@questionMark.Question.Option4" disabled />
                                                            }
                                                        </td>

                                                        <td class="text-center">
                                                            @if (questionMark.GivenAnswer == questionMark.CorrecAnswer)
                                                            {
                                                                <input class="btn btn-success btn-sm" type="button" value="Correct" disabled />
                                                            }
                                                            else
                                                            {
                                                                <input class="btn btn-danger btn-sm" type="button" value="Wrong" disabled />
                                                            }

                                                        </td>
                                                    </tr>
                                                }

                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                            }

                        </div>
                    </div>

                </div>

            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script src="~/vendor/sweetalert2/dist/sweetalert2.min.js" asp-append-version="true"></script>


    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
